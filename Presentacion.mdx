import { Appear, Notes } from 'mdx-deck'
import { future as myTheme } from 'mdx-deck/themes'
import { CodeSurfer } from "code-surfer"
import { nightOwl } from "@code-surfer/themes"

import "prismjs/components/prism-clike.js"
import "prismjs/components/prism-c.js"

import './style.css'

export const theme = myTheme

# Tutorial GTK 
---

# 驴Qu茅 es **GTK**?

<div>
  <ul>
    <Appear>
      <li>
        Un toolkit <span class="tenue">(kit de utiler铆as)</span> para crear
        interfaces de usuario orientado a objetos escrito en <span class="nombre">C</span>.
       </li>
      <li>Tambi茅n conocido como <strong>GIMP Toolkit</strong>.</li>
      <li>Proporciona <span class="numero">186</span> componentes de control gr谩fico (<span class="concepto">Widgets</span>).</li>
      <li>El release inicial fue el <span class="dato">14 de Abril de 1998</span>.</li>
      <li>Adoptado por <strong>GNOME</strong> para desarrollar su entorno gr谩fico.</li>
      <li>Licenciado bajo los t茅rminos <span class="dato">GNU LGPL</span>.</li>
    </Appear>
    </ul>
</div>

<Notes>
  Raro que sea orientado a objetos.

  Utiliza la librer铆a GObject que proporciona un framework orientado a objetos en C

  Soporta se帽ales, herencia simple y manejo de memoria

  Creada hace 21 A帽os, para los que tienen esa edad son tan viejos como GTK

  Licencia que permite el desarrollo de software libre como privado

  Tiene interfaces con lenguajes como Python, C++, C#
</Notes>

---
# Conceptos 

<div>
  <ul>
    <Appear>
      <li>Todas las aplicaciones de <span class="nombre">GTK</span> consisten de una jerarqu铆a de <span class="concepto">Widgets</span>.</li>
      <li>El widget principal de cada aplicaci贸n es <span class="concepto">Window</span>.</li>
      <li><span class="nombre">GTK</span> es guiado por <span class="concepto">Eventos</span>. Cuando ocurre un evento se notifica a un <span class="concepto">Escuchador</span> <span class="tenue">(funci贸n)</span>.</li>
      <li>Las <span class="concepto">Se帽ales</span> conectan un evento espec铆fico de la aplicaci贸n con m煤ltiples escuchadores <span class="tenue">(funciones)</span>.</li>
    </Appear>
  </ul>
</div>

<Notes>
  Las se帽ales se definen en GObject

</Notes>

---

# Convenciones 

Todas los nombres de funciones tienen la forma siguiente:

<div><span style="color: #009FFD">gtk_</span><span style="color: #A6C840">window_</span><span style="color: #FFA400">set_title</span>(<span style="color: #CE4164">instancia</span>, <span style="color: #FFE0B5">...parametros</span>)</div>
<br/>
<div>
  <ul>
    <Appear>
      <li><span style="color: #009FFD">Librer铆a:</span> gtk | gdk | g <span class="tenue">(espacio de nombres)</span></li>
      <li><span style="color: #A6C840">Clase:</span> window | object | button | ...</li>
      <li><span style="color: #FFA400">M茅todo </span><span class="tenue"> (getters, setters, etc.)</span></li>
      <li><span style="color: #CE4164">Instancia</span></li>
    </Appear>
  </ul>
</div>



<Notes>
  El par谩metro instancia es como el self de Python
</Notes>

---

<CodeSurfer theme={nightOwl} showNumbers={true}>

```c title="Aplicaci贸n B谩sica" file=./codigo/Ejemplo1.c
```

```diff 1 title="Aplicaci贸n B谩sica" subtitle="Importar la librer铆a gtk"

```

```diff 1,11:12 title="Aplicaci贸n B谩sica" subtitle="Inicializar la aplicaci贸n"

```

```diff 12[25:90] title="Aplicaci贸n B谩sica" subtitle="Inicializar la aplicaci贸n"

```

```diff 1,11:14 title="Aplicaci贸n B谩sica" subtitle="Conectar la se帽al"

```

```diff 1,11:15 title="Aplicaci贸n B谩sica" subtitle="Ejecutar la aplicaci贸n"

```

```diff 1,11:16 title="Aplicaci贸n B谩sica" subtitle="Liberar los recursos utilizados"

```

```diff 1,11:19 title="Aplicaci贸n B谩sica" subtitle="Retornar el estado de la aplicaci贸n"

```

```diff 3:9 title="Aplicaci贸n B谩sica" subtitle="Creaci贸n de los Widgets"

```

```diff 3 title="Aplicaci贸n B谩sica" subtitle="Creaci贸n de los Widgets"

```

```diff 3[22:61],14[20:22,59:62] title="Aplicaci贸n B谩sica" subtitle="Creaci贸n de los Widgets"

```

```diff 3:4 title="Aplicaci贸n B谩sica" subtitle="Creaci贸n del widget Window"

```

```diff 3:7 title="Aplicaci贸n B谩sica" subtitle="Establecer par谩metros de la ventana"

```

```diff 3:9 title="Aplicaci贸n B谩sica" subtitle="Mostrar la ventana"

```

```diff title="Aplicaci贸n B谩sica"

```

</CodeSurfer>

<Notes>
  Se bloquea al ejecutar la aplicaci贸n

  NULL en g_signal_connect son argumentos adicionales para la cerradura

  Preguntar por dudas
</Notes>

---

# Compilaci贸n 

---

<CodeSurfer theme={nightOwl}>

```bash title="Instalaci贸n"
# Debian / Ubuntu
sudo apt-get install libgtk-3-dev

# Fedora
sudo yum install gtk3-devel

```

</CodeSurfer>

---

<CodeSurfer theme={nightOwl}>

```bash title="Compilaci贸n"
gcc archivo.c -o archivo
    `pkg-config --cflags gtk+-3.0` 
    `pkg-config --libs gtk+-3.0`
```

</CodeSurfer>

---

<CodeSurfer theme={nightOwl} showNumbers={true}>

```c title="Aplicaci贸n B谩sica" file=./codigo/Ejemplo1.c
```

</CodeSurfer>

---

<CodeSurfer theme={nightOwl} showNumbers={true}>

```c title="Aplicaci贸n con imagen" file=./codigo/AplicacionBasica.c
```

```diff 6:11 title="Aplicaci贸n con imagen"
```

```diff 6:8 title="Aplicaci贸n con imagen" subtitle="Agregando contenedor Fixed"
```

```diff 9:11 title="Aplicaci贸n con imagen" subtitle="Agregando imagen desde archivo"
```

```diff title="Aplicaci贸n con imagen"
```

</CodeSurfer>

---

# Layouts

- Un <span class="concepto">Layout</span> define una estrategia para colocar elementos en pantalla.
- <span class="nombre">Fixed:</span> Coloca elementos en una coordenada fija.
- <span class="nombre">Box:</span> Coloca elementos en una fila o una columna.
- <span class="nombre">Grid:</span> Coloca elementos en una cuadr铆cula.

---

# Live Coding 锔

---

# Concurrencia

<div>
  <ul>
    <Appear>
      <li>Un <span class="nombre">proceso</span> no puede acceder directamente a las variables de otro <span class="nombre">proceso</span>.</li>
      <li>El <span class="concepto">proceso principal</span> de la interfaz de usuario no puede ser bloqueado.</li>
    </Appear>
  </ul>
</div>

---

# Hilos

<div>
  <ul>
    <Appear>
      <li>Son <span class="nombre">procesos ligeros</span> que comparten el espacio de memoria, archivos abiertos, etc.</li>
      <li>Se utiliza la librer铆a <span class="nombre">pthread</span>.</li>
    </Appear>
  </ul>
</div>

---

# Live Coding 锔

---

# Gracias

- Diapositivas: [ggzor-expo-gtk.netlify.com](https://ggzor-expo-gtk.netlify.com)
- C贸digo fuente: [github.com/ggzor/expo-gtk](https://www.github.com/ggzor/expo-gtk)
- Librer铆as utilizadas: [mdx-deck](https://github.com/jxnblk/mdx-deck) y [code-surfer](https://github.com/pomber/code-surfer)

